plugins {
	id 'java-platform'
}

javaPlatform {
	allowDependencies()
}

ext {
	googleJsr305Version = '3.0.2'
	protobufJavaVersion = '3.21.5'
	testcontainersVersion = '1.17.6'
	pulsarVersion = '3.0.0'
	pulsarClientReactiveVersion = '0.3.0'
	springBootVersion = '3.0.5'
	springPulsarStarterVersion = '0.2.1-SNAPSHOT'
	springPulsarBinderVersion = '0.2.1-SNAPSHOT'
	springCloudStreamVersion = '4.0.1'
}

dependencies {
	api platform("org.springframework.boot:spring-boot-dependencies:$springBootVersion")
	api platform("org.testcontainers:testcontainers-bom:$testcontainersVersion")
	constraints {
		api "com.google.code.findbugs:jsr305:$googleJsr305Version"
		api "com.google.protobuf:protobuf-java:$protobufJavaVersion"
		api "org.apache.pulsar:pulsar-client-all:$pulsarVersion"
		api "org.apache.pulsar:pulsar-client-reactive-adapter:$pulsarClientReactiveVersion"
		api "org.apache.pulsar:pulsar-client-reactive-producer-cache-caffeine-shaded:$pulsarClientReactiveVersion"
		api "org.springframework.cloud:spring-cloud-stream:$springCloudStreamVersion"
		api "org.springframework.cloud:spring-cloud-stream-test-support:$springCloudStreamVersion"
		api "org.springframework.pulsar:spring-pulsar-spring-boot-starter:$springPulsarStarterVersion"
		api "org.springframework.pulsar:spring-pulsar-reactive-spring-boot-starter:$springPulsarStarterVersion"
		api "org.springframework.pulsar:spring-pulsar-spring-cloud-stream-binder:$springPulsarBinderVersion"
	}
}
